(function(){"use strict";var t={2817:function(t,e,n){n.d(e,{db:function(){return R}});var a=n(144),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("MyCalendar")],1)],1)},l=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"fill-height"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Nuevo evento ")]),n("v-btn",{staticClass:"mr-4",attrs:{outlined:""},on:{click:t.setToday}},[t._v(" Hoy ")]),n("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.prev}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"mr-4",attrs:{fab:"",text:"",small:""},on:{click:t.next}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-right")])],1),n("v-toolbar-title",[t._v(t._s(t.title))]),n("div",{staticClass:"flex-grow-1"}),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{outlined:""}},a),[n("span",[t._v(t._s(t.typeToLabel[t.type]))]),n("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(e){t.type="day"}}},[n("v-list-item-title",[t._v("Dia")])],1),n("v-list-item",{on:{click:function(e){t.type="week"}}},[n("v-list-item-title",[t._v("Semana")])],1),n("v-list-item",{on:{click:function(e){t.type="month"}}},[n("v-list-item-title",[t._v("Mes")])],1),n("v-list-item",{on:{click:function(e){t.type="4day"}}},[n("v-list-item-title",[t._v("4 Dias")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[n("v-text-field",{attrs:{type:"text",label:"Nombre del evento (requerido)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:"text",label:"Detalles"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de inicio (requerido)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de finalizacion (Requerido)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),n("v-text-field",{attrs:{type:"color",label:"Color (click para abrir selector de color)"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v(" Crear evento ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogDate,callback:function(e){t.dialogDate=e},expression:"dialogDate"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[n("v-text-field",{attrs:{type:"text",label:"Nombre del evento (requerido)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:"text",label:"Detalles"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de inicio (requerido)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de finalizacion (Requerido)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),n("v-text-field",{attrs:{type:"color",label:"Color (click para abrir selector de color)"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialogDate=!1}}},[t._v(" Crear evento ")])],1)],1)],1)],1),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"primary",weekdays:[1,2,3,4,5,6,0],locale:"es","short-weekdays":!1,events:t.events,"event-color":t.getEventColor,"event-margin-bottom":3,now:t.today,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.setDialogDate,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),n("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4",width:350,flat:""}},[n("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteEvent(t.selectedEvent.id)}}},[n("v-icon",[t._v("mdi-delete")])],1),n("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),n("div",{staticClass:"flex-grow-1"})],1),n("v-card-text",[t.currentlyEditing!==t.selectedEvent.id?n("form",[t._v(" "+t._s(t.selectedEvent.details)+" ")]):n("form",[n("textarea-autosize",{staticStyle:{width:"100%"},attrs:{type:"text","min-height":100,placeholder:"add note"},model:{value:t.selectedEvent.details,callback:function(e){t.$set(t.selectedEvent,"details",e)},expression:"selectedEvent.details"}})],1)]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" close ")]),t.currentlyEditing!==t.selectedEvent.id?n("v-btn",{attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.editEvent(t.selectedEvent)}}},[t._v(" edit ")]):n("v-btn",{attrs:{text:"",type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateEvent(t.selectedEvent)}}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)},r=[],s={data:()=>({today:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),focus:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Mes",week:"Semana",day:"Dia","4day":"4 Dias"},name:null,details:null,start:null,end:null,color:"#1976D2",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,dialogDate:!1}),mounted(){console.log(this.today),this.getEvents()},computed:{title(){const{start:t,end:e}=this;if(!t||!e)return"";const n=this.monthFormatter(t),a=this.monthFormatter(e),o=n===a?"":a,l=t.year,i=e.year,r=l===i?"":i,s=t.day+this.nth(t.day),c=e.day+this.nth(e.day);switch(this.type){case"month":return`${n} ${l}`;case"week":case"4day":return`${n} ${s} ${l} - ${o} ${c} ${r}`;case"day":return`${n} ${s} ${l}`}return""},monthFormatter(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},methods:{async getEvents(){let t=await R.collection("calEvent").get(),e=[];t.forEach((t=>{let n=t.data();n.id=t.id,e.push(n)})),this.events=e},async addEvent(){this.name&&this.start&&this.end?(await R.collection("calEvent").add({name:this.name,details:this.details,start:this.start,end:this.end,color:this.color}),this.getEvents(),this.name="",this.details="",this.start="",this.end="",this.color="#1976D2"):alert("Name, start and end date are required")},async updateEvent(t){await R.collection("calEvent").doc(this.currentlyEditing).update({details:t.details}),this.selectedOpen=!1,this.currentlyEditing=null},editEvent(t){this.currentlyEditing=t.id},async deleteEvent(t){await R.collection("calEvent").doc(t).delete(),this.selectedOpen=!1,this.currentlyEditing=null,this.getEvents()},showEvent({nativeEvent:t,event:e}){const n=()=>{this.selectedEvent=e,this.selectedElement=t.target,setTimeout((()=>this.selectedOpen=!0),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(n,10)):n(),t.stopPropagation()},getEventColor(t){return t.color},setDialogDate({date:t}){this.dialogDate=!0,this.focus=t},updateRange({start:t,end:e}){this.start=t,this.end=e},viewDay({date:t}){this.focus=t,this.type="day"},setToday(){this.focus=this.today},prev(){this.$refs.calendar.prev()},next(){this.$refs.calendar.next()},nth(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]}}},c=s,d=n(1001),u=n(3453),v=n.n(u),f=n(680),p=n(8538),m=n(3237),h=n(7118),y=n(2102),b=n(247),g=n(7336),x=n(6232),E=n(6428),k=n(6816),w=n(7620),_=n(8245),D=n(6768),Z=n(2877),O=n(3385),C=n(1347),T=n(5218),V=n(7921),$=(0,d.Z)(c,i,r,!1,null,null,null),S=$.exports;v()($,{VBtn:f.Z,VCalendar:p.Z,VCard:m.Z,VCardActions:h.h7,VCardText:h.ZB,VCol:y.Z,VContainer:b.Z,VDialog:g.Z,VForm:x.Z,VIcon:E.Z,VList:k.Z,VListItem:w.Z,VListItemTitle:_.V9,VMenu:D.Z,VRow:Z.Z,VSheet:O.Z,VTextField:C.Z,VToolbar:T.Z,VToolbarTitle:V.qW});var F={name:"App",components:{MyCalendar:S},data:()=>({})},M=F,j=n(7524),I=n(1009),P=(0,d.Z)(M,o,l,!1,null,null,null),q=P.exports;v()(P,{VApp:j.Z,VMain:I.Z});var z=n(9132);a.Z.use(z.Z);var A=new z.Z({}),L=n(7197),B=n(1902);n(6621);a.Z.use(L.Z),a.Z.config.productionTip=!1,B.Z.initializeApp({apiKey:"AIzaSyB0Cnudmgcmu01p9wVy6ABsoOeTlTUVwTE",authDomain:"vue-calendar-a1aa0.firebaseapp.com",projectId:"vue-calendar-a1aa0",storageBucket:"vue-calendar-a1aa0.appspot.com",messagingSenderId:"450545507400",appId:"1:450545507400:web:3c7e23baa175cad70b8c7d"});const R=B.Z.firestore();new a.Z({vuetify:A,render:t=>t(q)}).$mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var l=e[a]={exports:{}};return t[a](l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,l){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],l=t[d][2];for(var r=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(r=!1,l<i&&(i=l));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,o,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,l,i=a[0],r=a[1],s=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(s)var d=s(n)}for(e&&e(a);c<i.length;c++)l=i[c],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(d)},a=self["webpackChunkvue_calendar"]=self["webpackChunkvue_calendar"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2817)}));a=n.O(a)})();
//# sourceMappingURL=app.9aa39459.js.map